---
import { getCollection } from "astro:content";
import { Image } from 'astro:assets';

import BaseLayout from '../layouts/BaseLayout.astro';
import BlogSorter from "../components/BlogSorter.jsx"; 
import headshotPhoto from '../assets/josh-headshot-cropped.jpg';
const pageTitle = "Josh Olivier - Home";

let allPosts = await getCollection("blog");

  // Sort by date (newest first)
  allPosts = allPosts.sort(
    (a, b) => new Date(b.data.pubDate) - new Date(a.data.pubDate)
  );

const recentPosts = allPosts.slice(0, 3); // show the newest 3 blog posts by pubDate
---
<BaseLayout pageTitle={pageTitle} shouldCenterTitle={false} shouldShowTitle={false}>

  <h1>Hi, I'm Josh Olivier!</h1>

  <Image
    src={headshotPhoto}
    alt="Josh Olivier"
    class="home-pic"
    loading="eager"
    priority
  />

  <h2>Home</h2>

    <p>

      I'm a lab manager in a neuroimaging research lab in Dallas, Texas. 

      I'm interested in studying how memory, brain structure, and brain function are related and how these relationships change with age.

      I also love traveling, 3D printing, doing triathlons, and drinking tererÃ© ðŸ§‰!

    </p>
  
    <p>

      Read more about me on my <a href="https://josholivier.com/about/">About</a> page!

    </p>

    <p> 

      For more details on the research I've worked on, check out my <a href="https://josholivier.com/cv/">CV</a>.

    </p>

    <hr>

  <h2>Latest posts</h2>

    <BlogSorter
      posts={recentPosts} 
      client:load 
      showSort={false}
      showTags={false}
    />

    <a href="/blog">See all blog posts</a>

</BaseLayout>