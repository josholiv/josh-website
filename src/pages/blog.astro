---
import { getCollection } from "astro:content";
import BaseLayout from "../layouts/BaseLayout.astro";
import BlogPost from "../components/BlogPost.astro";

const pageTitle = "Blog";
const allPosts = await getCollection("blog");
---
<BaseLayout pageTitle={pageTitle}>
  <div style="text-align: center; font-style: italic;">
    <h2>(Under construction&#x1F477)</h2>
  </div>
  
  <p>Welcome to my blog!</p>
  <nav>
    <a href="/tags" class="tag-index-link">#Tag Index</a>
  </nav>
  <ul>
    {
      allPosts.map((post) => (
        <BlogPost 
          url={`/posts/${post.id}/`} 
          title={post.data.title} 
          image={post.data.image} 
          pubDate={post.data.pubDate}
        />
      ))
    }
  </ul>
</BaseLayout>
